<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <!-- Option 1: Include in HTML -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <title>Admin</title>
</head>
<style>
    #calendar {
        height: 180px;
        width: 200px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
    }

    #calendar-header {
        display: flex;
        justify-content: space-between;
        height: 20px;
        align-items: center;
        /* padding: 10px; */

    }

    #calendar-header p {
        font-size: 12px;
        margin-top: 0;
        margin-bottom: 0;
        font-weight: 600;
    }

    #calendar-body {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 1px;
        width: 200px;
        font-size: 8px;
        font-weight: 600;
    }

    #calendar-body div {
        background-color: #fff;
        text-align: center;
        padding: 3px;

    }

    .change-month {
        cursor: pointer;
    }

    #calendar-body div.today {
        background-color: #f00;
        color: #fff;
    }

    #calendar-body .prev-date,
    #calendar-body .next-date {
        color: grey;
    }

    #calendar #days {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        font-size: 8px;
        font-weight: 500;
        gap: 1px;
        width: 200px;
        background-color: #CA1F3F;
        color: white;
    }

    #calendar #days div {
        padding: 3px;
        text-align: center;
    }

    button {
        cursor: pointer;
        border: none;
        background: none;
        font-size: 16px;
        outline: none;
    }

    .selectable-date {
        cursor: pointer;
    }

    .selected {
        background-color: lightblue;
    }

    .sunday {
        color: red;
    }
    .btn-mY{
        margin-top: 3px;
    }
    .btn-mY  .month-year-btn{
        font-size: 10px;
    background: black;
    color: white;
    padding: 6px 13px;
    border-radius: 13px;

    }
</style>

<body>
    <section class="scrollbody" id="blur">
        <div class=" merchangtopdiv">
            <div class="bell-icon-div d-flex align-items-center justify-content-center" onclick="gotoadminscreen()">
                <img class="shakebell" src="./Assest/redbellicon.svg" alt="">
            </div>
            <div class="tooglebar-icon d-flex align-items-center justify-content-between">
                <p>Good Morning, <br><span style="font-size: 20px;font-weight: 700;">Abhi!</span></p>
                <div id="bell-icon" class="toggle-icon-div d-flex align-items-center justify-content-center">
                    <img src="./Assest/baricon.png" alt="">
                </div>
            </div>
            <img class="avatarimg" src="./Assest/manavatar.svg" alt="">
            <div id="orangemenuList" class="menuList" style="display: none;">
                <ul class="d-flex flex-column align-items-center ">
                    <li class="d-flex  ">
                        <p>Share Report</p>
                        <img src="./Assest/smallshareicon.svg" alt="">
                    </li>
                    <li class="tooltip-step">
                        <p style="background: #EEEEEE;  width: 140px;margin-left: -15px;"></p>
                    </li>
                    <li class="d-flex " onclick="gotologin()">
                        <p>Log Out</p>
                        <img src="./Assest/Logout Rounded.svg" alt="">
                    </li>
                    <!-- <img src="./Assest/bottomimgeline.svg" alt=""> -->
                </ul>
            </div>
        </div>
        <div class="container-fluid  merchantmiddiv">

            <div class="beelicondiv d-flex align-items-center justify-content-center" onclick="gotoadmin()">
                <img class="plusrotate" src="./Assest/Plus Math.svg" alt="">
            </div>

        </div>
        <div class="main-view-container container main-banner mt-2">
            <div class="row">
                <div class="view-text ">
                    <p>89% <span>Target Achieved</span></p>
                    <p>11% Remaining This Month</p>
                </div>
            </div>
            <img src="./Assest/linesimg.svg" alt="">
            <div class="row mt-3 mb-3">
                <div class="col-12 d-flex flex-wrap gap-3 align-items-center justify-content-center">
                    <div class="colordiv d-flex flex-column align-items-center justify-content-center">
                        <div class="colortoptext d-flex  justify-content-between">
                            <p>Deals Closed </p>
                            <img src="./Assest/tripledot.svg" alt="">
                        </div>
                        <p>3/5</p>
                        <div class="icon-with-btn d-flex  align-items-center justify-content-between mt-3 "
                            style="width: 130px;">
                            <img src="./Assest/yellowstaricon.svg" alt="">
                            <div class="btn colorbtn" onclick="deal_toclosed()">
                                <p>View All</p>
                            </div>
                        </div>
                    </div>
                    <div class="colordiv d-flex flex-column align-items-center justify-content-center">
                        <div class="colortoptext d-flex  justify-content-between">
                            <p>Deals To Close </p>
                            <img src="./Assest/tripledot.svg" alt="">
                        </div>
                        <p>2</p>
                        <div class="icon-with-btn d-flex  align-items-center justify-content-between mt-3 "
                            style="width: 130px;">
                            <img src="./Assest/anotherredcurve.svg" alt="">
                            <div class="btn colorbtn" onclick="pendingcard()">
                                <p>Overview</p>
                            </div>
                        </div>
                    </div>
                    <div class="colordiv d-flex flex-column align-items-center justify-content-center">
                        <div class="colortoptext d-flex  justify-content-between">
                            <p>Your Score </p>
                            <img src="./Assest/tripledot.svg" alt="">
                        </div>
                        <p>672</p>
                        <div class="icon-with-btn d-flex  align-items-center justify-content-between mt-3 "
                            style="width: 130px;">
                            <img src="./Assest/greenrsicon.svg" alt="">
                            <div class="btn colorbtn" onclick="togglescore()">
                                <p>View More</p>
                            </div>
                        </div>
                    </div>
                    <div class="colordiv d-flex flex-column align-items-center justify-content-center">
                        <div class="colortoptext d-flex  justify-content-between">
                            <p>Attendence </p>
                            <img src="./Assest/tripledot.svg" alt="">
                        </div>
                        <p>15/27</p>
                        <div class="icon-with-btn d-flex  align-items-center justify-content-between mt-3 "
                            style="width: 130px;">
                            <img src="./Assest/saveicon.svg" alt="">
                            <div class="btn colorbtn" onclick="toggle()">
                                <p>View More</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <img src="./Assest/linesimg.svg" alt="">
        </div>
    </section>

    <div class="attendence " id="attendencepopup">
        <div class="card overlay">
            <div class="card-body d-flex flex-column  align-items-center ">
                <i class="fa-solid fa-xmark closemark" onclick="closetoggle()"></i>
                <h5 class="card-title mt-3" style="color: #CA1F3F;">Attendence</h5>
                <div class="otpboxcontainer d-flex align-items-center justify-content-center gap-3">
                    <div id="calendar">
                        <div id="calendar-header">
                            <span id="month-prev" class="change-month"><</span>
                                <p id="month"></p>
                            <span id="month-next" class="change-month">></span>
                        </div>
                        <div id="days"></div>
                        <div id="calendar-body"></div>
                        <div class="btn-mY d-flex gap-1">
                            <div class="month-year-btn">Month</div>
                            <div class="month-year-btn">Year</div>
                        </div>
                    </div>

                </div>
                <div id="resendbtn" class="resendbtn mt-0">
                    <p>Select Date</p>
                </div>
            </div>
        </div>
    </div>

    <div class="scorecard" id="scorecard">
        <div class="card overlay">
            <div class="card-body d-flex flex-column justify-content-center align-items-center ">
                <i class="fa-solid fa-xmark closemark" onclick="closetogglescore()"></i>
                <h5 class="card-title mt-3" style="color: #CA1F3F;">Your Score</h5>
                <p>Voila! You achieved good score!</p>
                <div class="scoreboxcontainer d-flex flex-column align-items-center justify-content-center mt-4 gap-3">
                    <h1>672 <img src="" alt=""></h1>
                    <p>Add more merchants to achieve <br>excellent score!</p>
                </div>
                <div id="resendbtn" class="resendbtn " hideen>
                    <p>Access Monthly Report</p>
                </div>
            </div>
        </div>
    </div>

    <div class="dealcardpercentage" id="dealspending">
        <div class="card overlay">
            <div class="card-body d-flex flex-column  align-items-center ">
                <i class="fa-solid fa-xmark closemark" onclick="closetoggledealpercentage()"></i>
                <h5 class="card-title mt-3" style="color: #CA1F3F;">Deals Pending</h5>
                <div class="percentage mt-3 mb-3">
                    <div class="circular-progress" id="progressBar">
                        <span class="progress-value" id="progressValue">57% <br>to close</span>
                    </div>
                </div>
                <div class="d-flex flex-column align-items-center mt-3" style="gap: 10px;">
                    <div class="dealcardpercentagecontainer d-flex  align-items-center justify-content-between ">
                        <div id="resendbtn" class="resendbtn" style="background: #FFFFFFE5;
                box-shadow: 0px 4px 4px 0px #00000040;">
                            <p style="color: #CA1F3F;">Today</p>
                        </div>
                        <p>2</p>
                    </div>
                    <div class="dealcardpercentagecontainer d-flex  align-items-center justify-content-between ">
                        <div id="resendbtn" class="resendbtn " style="background: black;">
                            <p>To Be closed</p>
                        </div>
                        <p>57</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="dealcard" id="dealclosed">
        <div class="card overlay">
            <div class="card-body d-flex flex-column  align-items-center ">
                <i class="fa-solid fa-xmark closemark" onclick="closetoggledeal()"></i>
                <h5 class="card-title mt-3" style="color: #CA1F3F;">Deals Closed</h5>
                <div class="d-flex flex-column align-items-center mt-4" style="gap: 10px;">
                    <div class="dealcardcontainer d-flex  align-items-center justify-content-between ">
                        <div id="resendbtn resendtext" class="resendbtn " style="background: #FFFFFFE5;
                box-shadow: 0px 4px 4px 0px #00000040;">
                            <p style="color: #CA1F3F;">This Week</p>
                        </div>
                        <p>25/25</p>
                    </div>
                    <div class="dealcardcontainer d-flex  align-items-center justify-content-between ">
                        <div id="resendbtn" class="resendbtn " hideen>
                            <p>Last Week</p>
                        </div>
                        <p>30/25</p>
                    </div>
                    <div class="dealcardcontainer d-flex  align-items-center justify-content-between ">
                        <div id="resendbtn" class="resendbtn " hideen>
                            <p>Week 14</p>
                        </div>
                        <p>13/25</p>
                    </div>
                    <div class="dealcardcontainer d-flex  align-items-center justify-content-between ">
                        <div id="resendbtn" class="resendbtn " hideen>
                            <p>Week 13</p>
                        </div>
                        <p>30/25 </p>
                    </div>

                </div>


            </div>
        </div>
    </div>

    <script>






        var blur = document.getElementById("blur")
        var attendencepopup = document.getElementById("attendencepopup")
        var scorecard = document.getElementById("scorecard")
        var dealspending = document.getElementById("dealspending")
        var dealclosed = document.getElementById("dealclosed")



        //function for share and logout 
        document.addEventListener("DOMContentLoaded", function () {
            var menuIcon = document.getElementById("bell-icon");
            var orangemenuList = document.getElementById("orangemenuList");

            menuIcon.addEventListener("click", function () {
                console.log("click")
                if (orangemenuList.style.display === "none" || orangemenuList.style.display === "") {
                    orangemenuList.style.display = "block";
                } else {
                    orangemenuList.style.display = "none";
                }
            });
        });



        //for toggle card

        function closetoggle() {
            blur.classList.remove("active")
            attendencepopup.classList.remove("active")
        }

        function closetogglescore() {
            blur.classList.remove("active")
            scorecard.classList.remove("active")
        }
        function closetoggledealpercentage() {
            blur.classList.remove("active")
            dealspending.classList.remove("active")
        }
        function closetoggledeal() {
            blur.classList.remove("active")
            dealclosed.classList.remove("active")
        }


        function toggle() {
            blur.classList.toggle("active")
            attendencepopup.classList.toggle("active")
            if (attendencepopup.classList.contains("active")) {
                attendencepopup.classList.add("animate__animated", "animate__bounceIn");
            } else {

                attendencepopup.classList.remove("animate__animated", "animate__bounceIn");
            }
        }

        function togglescore() {
            blur.classList.toggle("active")
            scorecard.classList.toggle("active")
            if (scorecard.classList.contains("active")) {
                scorecard.classList.add("animate__animated", "animate__bounceIn"); // Example animation class from Animista
            } else {
                // Remove animation class if popup is not active
                scorecard.classList.remove("animate__animated", "animate__bounceIn");
            }
        }

        function pendingcard() {
            blur.classList.toggle("active")
            dealspending.classList.toggle("active")
            if (dealspending.classList.contains("active")) {
                dealspending.classList.add("animate__animated", "animate__bounceIn"); // Example animation class from Animista
                animateProgress();
            } else {
                // Remove animation class if popup is not active
                dealspending.classList.remove("animate__animated", "animate__bounceIn");

            }

        }

        function deal_toclosed() {
            blur.classList.toggle("active")
            dealclosed.classList.toggle("active")
            if (dealclosed.classList.contains("active")) {
                dealclosed.classList.add("animate__animated", "animate__bounceIn"); // Example animation class from Animista
            } else {
                // Remove animation class if popup is not active
                dealclosed.classList.remove("animate__animated", "animate__bounceIn");
            }
        }

        function gotoadminscreen() {
            window.location.href = "adminscreen.html"
        }




        /*function for progress circle*/
        let progress = 0;
        const progressBar = document.getElementById("progressBar");
        const progressValue = document.getElementById("progressValue");
        const targetPercentage = progressValue.innerHTML.slice(0, 2);

        function animateProgress() {

            if (progress <= targetPercentage) {
                progressBar.style.backgroundImage = `conic-gradient(#7d2ae8 ${progress * 3.6}deg, #ededed 0deg)`;
                progressValue.textContent = progress + "%";

                // Create a line break element
                const lineBreak = document.createElement("br");
                // Append the line break element to the progressValue span
                progressValue.appendChild(lineBreak);
                // Append the "to close" text after the line break
                progressValue.insertAdjacentText("beforeend", "to close");
                progress++;
                setTimeout(animateProgress, 50); // Adjust the time interval as needed
            }
        }

        animateProgress();



        function gotoadminscreen() {
            window.location.href = "adminscreen.html"
        }

        function gotoadmin() {
            window.location.href = "info.html"
        }

        function gotologin() {
            window.location.href = "index.html"
        }





        /*code for dynamic calender*/

        let date = new Date();
        let selectedDate = null;
        function renderCalendar() {
            date.setDate(1);

            const monthDays = document.getElementById('calendar-body');
            const month = document.getElementById('month');
            const daysElement = document.getElementById('days');

            const lastDay = new Date(
                date.getFullYear(),
                date.getMonth() + 1,
                0
            ).getDate();

            const prevLastDay = new Date(
                date.getFullYear(),
                date.getMonth(),
                0
            ).getDate();

            const firstDayIndex = date.getDay(); // Changed from currYear, currMonth to date

            const lastDayIndex = new Date(
                date.getFullYear(),
                date.getMonth() + 1,
                0
            ).getDay();

            const nextDays = 7 - lastDayIndex - 1;

            const months = [
                'January',
                'February',
                'March',
                'April',
                'May',
                'June',
                'July',
                'August',
                'September',
                'October',
                'November',
                'December'
            ];
            const days = [
                'Sun',
                'Mon',
                'Tue',
                'Wed',
                'Thu',
                'Fri',
                'Sat'
            ];

            month.innerText = `${months[date.getMonth()]} ${date.getFullYear()}`;

            daysElement.innerHTML = days.map(day => `<div>${day}</div>`).join('');
            let dates = '';

            for (let x = firstDayIndex; x > 0; x--) {
                dates += `<div class='prev-date'>${prevLastDay - x + 1}</div>`;
            }

            for (let i = 1; i <= lastDay; i++) {
                if (
                    i === new Date().getDate() &&
                    date.getMonth() === new Date().getMonth()
                ) {
                    dates += `<div class='today'>${i}</div>`;
                } else {
                    if ((firstDayIndex + i - 1) % 7 === 0) {
                        dates += `<div class='sunday'>${i}</div>`;
                    } else {
                        dates += `<div>${i}</div>`;
                    }
                }
            }

            for (let j = 1; j <= nextDays; j++) {
                dates += `<div class='next-date'>${j}</div>`;
            }
            monthDays.innerHTML = dates; // Moved this line out of the loop

        }


        document.getElementById('month-prev').addEventListener('click', () => {
            document.getElementById('calendar-body').classList.add('fade-out');
            setTimeout(() => {
                date.setMonth(date.getMonth() - 1);
                renderCalendar();
                document.getElementById('calendar-body').classList.remove('fade-out');
            }, 500);
        });

        document.getElementById('month-next').addEventListener('click', () => {
            document.getElementById('calendar-body').classList.add('fade-out');
            setTimeout(() => {
                date.setMonth(date.getMonth() + 1);
                renderCalendar();
                document.getElementById('calendar-body').classList.remove('fade-out');
            }, 500);
        });

        renderCalendar();

    </script>


</body>

</html>